#<?cfg paf policy ?>

needCalibRegistry: true

camera:        "../description/camera/SOFI_geom.paf"
registryPath: "../input/inputregistry.sqlite3"
calibRegistryPath: "../input/calibregistry.sqlite3"

defaultLevel: "Ccd"

exposures: {
    raw: {
    template:    "FIELDS/%(dateObs)s_F02_%(pointing)s_%(exptime)d_%(number)03d.fits"
        python:       "lsst.afw.image.DecoratedImageU"
        persistable:  "DecoratedImageU"
        storage:      "FitsStorage"
        level:        "Ccd"
        tables:       "raw"
    }
    postISRCCD: {
        template:    "postISRCCD/%(dateObs)s_F02_%(pointing)s_%(exptime)d_%(number)03d.fits"
        python:       "lsst.afw.image.exposureF"
        persistable:  "exposureF"
        storage:      "FitsStorage"
        level:        "Ccd"
        tables:       "raw"
    }
    calexp: {
        template:      "calexp/%(dateObs)s_F02_%(pointing)s_%(exptime)d_%(number)03d.fits"
        python:        "lsst.afw.image.exposureF"
        persistable:   "exposureF"
        storage:       "FitsStorage"
        level:         "Ccd"
        tables:        "raw"
    }
    flatOut: {
        template:    "FLAT/FLAT_%(dateObs)s_%(number)03d.fits"
        python:        "lsst.afw.image.exposureF"
        persistable:    "exposureF"
        storage:    "FitsStorage"
        level:        "Ccd"
        tables:       "raw"
        columns:      "expnum"
    }
    coaddTempExp: {
        template:    "coaddTempExp/coadd_%(pointing)s.fits"
        python:      "lsst.afw.image.exposureF"
        persistable: "exposureF"
        storage:     "FitsStorage"
        tables:       "raw"
    }
}

calibrations: {
    flat: {
        template:    "FLAT/FLAT_%(dateObs)s.fits.gz"
        python:        "lsst.afw.image.DecoratedImageU"
        persistable:    "DecoratedImageU"
        storage:        "FitsStorage"
        level:        "Ccd"
        tables:       "calib"
    }
    dark: {
        template:    "DARK_%(exptime)f.fits.gz"
        python:        "lsst.afw.image.DecoratedImageU"
        persistable:    "DecoratedImageU"
        storage:        "FitsStorage"
        level:        "Ccd"
        tables:       "calib"
}

datasets: {
    ccdExpnosureId: {
        template:     "ignored"
        # Provide something to import, although we actually return a tuple
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    ccdexpnumId_bits: {
        template:     "ignored"
        # Provide something to import, although we actually return a tuple
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    goodSeeingCoaddId: {
        template:     "ignored"
        # Provide something to import, although we actually return a Long
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    goodSeeingCoaddId_bits: {
        template:     "ignored"
        # Provide something to import, although we actually return an int
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    deepCoaddId: {
        template:     "ignored"
        # Provide something to import, although we actually return a Long
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    deepCoaddId_bits: {
        template:     "ignored"
        # Provide something to import, although we actually return an int
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    chiSquaredCoaddId: {
        template:     "ignored"
        # Provide something to import, although we actually return a Long
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }
    chiSquaredCoaddId_bits: {
        template:     "ignored"
        # Provide something to import, although we actually return an int
        python:       "lsst.daf.base.PropertySet"
        persistable:  "ignored"
        storage:      "ignored"
        tables:       "raw"
    }

    icSrc: {
        template:      "work/%(date)d/ICSRC-%(expnum)d_%(filter)s.fits"
        python:        "lsst.afw.table.SourceCatalog"
        persistable:        "SourceCatalog"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    icMatch: {
        template:      "work/%(date)d/ICMATCH_%(expnum)d_%(filter)s.fits"
        python:        "lsst.afw.table.BaseCatalog"
        persistable:        "BaseCatalog"
        storage:    "FitsCatalogStorage"
        tables:        raw
        tables:        raw_skyTile
    }
    log: {
        template:      "logs/%(date)s/run.log"
        python:        "str"
        persistable:   "None"
        storage:       "TextStorage"
    }
    logDir: {
        template:      "logs/%(date)s/"
        python:        "str"
        persistable:   "None"
        storage:       "None"
    }
}
